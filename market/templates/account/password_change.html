{% extends "market_base/base_with_header.html" %}
{% comment %} Use the shared base layout with header for the password change page {% endcomment %}

{% load widget_tweaks %}

{% comment %} Page title shown in the browser tab {% endcomment %}
{% block title %}Change Password | Podo-Market{% endblock title %}

{% comment %} Main content {% endcomment %}
{% block content %}

<div class="w-full max-w-[644px] mx-auto my-[131px] border-2 border-box-border rounded-[33px] px-[107px] py-[54px]">
  {% comment %} Page heading for the password change form {% endcomment %}
  <h1 class="mb-[22px] font-normal text-[25px] text-center tracking-[-0.44px]">Change Password</h1>
  
  {% comment %} Password change form: current password, new password, confirm new password {% endcomment %}
  <form class="form" method="post" novalidate>

    {% csrf_token %}

    {% comment %} Current password field with validation error messages {% endcomment %}
    <div class="mb-5">
      {{ form.oldpassword|add_class:"podo-input"|attr:"placeholder:Current Password"|add_error_class:"error" }}
      {% for error in form.oldpassword.errors %}
        <div class="text-input-error-fg block w-full text-right text-[14px] leading-[1.7] pr-4">
          {{ error }}
        </div>
      {% endfor %}
    </div>

    {% comment %} New password field with validation error messages {% endcomment %}
    <div class="mb-5">
      {{ form.password1|add_class:"podo-input"|attr:"placeholder:New Password"|add_error_class:"error" }}
      {% for error in form.password1.errors %}
        <div class="text-input-error-fg block w-full text-right text-[14px] leading-[1.7] pr-4 ">
          {{ error }}
        </div>
      {% endfor %}
    </div>

    {% comment %} New password confirmation field with validation error messages {% endcomment %}
    <div>
      {{ form.password2|add_class:"podo-input"|attr:"placeholder:Confirm New Password"|add_error_class:"error" }}
      {% for error in form.password2.errors %}
        <div class="text-input-error-fg block w-full text-right text-[14px] leading-[1.7] pr-4">
          {{ error }}
        </div>
      {% endfor %}
    </div>

    {% comment %} Submit button to complete the password change {% endcomment %}
    <button class="podo-button large primary block w-full max-w-60 mx-auto mt-[30px]" type="submit">Save</button>
  </form>
</div>

{% endblock content %}
